-- é€šç”¨é€»è¾‘æ‰§è¡Œè„šæœ¬ | ç®€å•æŒ‰é’® + è‡ªå®šä¹‰é€»è¾‘åŒº
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")

local player = Players.LocalPlayer

-- åˆ›å»º UI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CustomLogicGUI"
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 250, 0, 80)
button.Position = UDim2.new(0.5, -125, 0.8, -40)  -- å±å¹•ä¸‹æ–¹å±…ä¸­
button.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.Text = "ğŸ”´ é€»è¾‘å…³é—­\n(ç‚¹å‡»å¼€å¯)"
button.TextScaled = true
button.Font = Enum.Font.GothamBold
button.Draggable = true
button.Parent = screenGui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 15)
corner.Parent = button

-- çŠ¶æ€å˜é‡
local enabled = false
local connection

-- ==================== è¿™é‡Œæ”¾ä½ çš„é€»è¾‘ ====================
-- æŠŠä½ æƒ³è¦ä¸€ç›´æ‰§è¡Œçš„ä»£ç å†™åœ¨è¿™é‡Œ
local function YourCustomLogic()
    -- ç¤ºä¾‹ï¼šä½ çš„ Slap é€»è¾‘ï¼ˆæ›¿æ¢æˆä½ è‡ªå·±çš„ï¼‰
    local slapRemote = game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("Slap")
    local args = {
        "MARKER",
        CFrame.new(21.88749122619629, 3.998012065887451, 61.83786392211914, 0.9366133809089661, -0.00000973830174189061, -0.350364625453949, 0.000008447913387499284, 1, -0.000005211352799960878, 0.350364625453949, 0.000001921173179653124, 0.9366133809089661),
        "Slap"
    }
    slapRemote:FireServer(unpack(args))
    
    -- ä½ å¯ä»¥åœ¨è¿™é‡Œæ”¾ä»»ä½•é€»è¾‘ï¼Œæ¯”å¦‚ä¼ é€ã€è´­ä¹°ç‰©å“ã€å‘ Remote ç­‰
    -- ä¾‹å¦‚ï¼š
    -- game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(0, 100, 0)
end
-- =======================================================

-- è‡ªåŠ¨å¾ªç¯æ‰§è¡Œä½ çš„é€»è¾‘
local function StartLoop()
    if connection then connection:Disconnect() end
    connection = RunService.Heartbeat:Connect(function()
        if enabled then
            YourCustomLogic()
        end
    end)
end

-- æŒ‰é’®ç‚¹å‡»å¼€å…³
button.MouseButton1Click:Connect(function()
    enabled = not enabled
    
    if enabled then
        button.Text = "ğŸŸ¢ é€»è¾‘è¿è¡Œä¸­\n(ç‚¹å‡»å…³é—­)"
        button.BackgroundColor3 = Color3.fromRGB(50, 255, 50)
        YourCustomLogic()  -- ç«‹å³æ‰§è¡Œä¸€æ¬¡
        StartLoop()
        StarterGui:SetCore("SendNotification", {Title = "è„šæœ¬", Text = "é€»è¾‘å·²å¼€å¯ï¼", Duration = 3})
    else
        button.Text = "ğŸ”´ é€»è¾‘å…³é—­\n(ç‚¹å‡»å¼€å¯)"
        button.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
        if connection then connection:Disconnect() end
        StarterGui:SetCore("SendNotification", {Title = "è„šæœ¬", Text = "é€»è¾‘å·²å…³é—­ï¼", Duration = 3})
    end
end)

-- åˆå§‹åŒ–é€šçŸ¥
StarterGui:SetCore("SendNotification", {
    Title = "é€šç”¨é€»è¾‘è„šæœ¬",
    Text = "åŠ è½½æˆåŠŸï¼ç‚¹å‡»æŒ‰é’®å¼€å¯/å…³é—­è‡ªå®šä¹‰é€»è¾‘ã€‚",
    Duration = 5
})