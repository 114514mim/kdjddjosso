local TextChatService = game:GetService("TextChatService")

task.wait(0.5)

local channel = TextChatService.TextChannels:FindFirstChild("RBXGeneral")
if channel then
    local success, err = pcall(function()
        channel:SendAsync(";btools")
    end)

    if success then
        -- 等一会，确保消息已经发出
        task.wait(0.3)
    else
        warn("说话失败:", err)
    end
end

local player = game:GetService("Players").LocalPlayer

-- 从原脚本中提取的通用F3X工具与功能函数
local tool
for i,v in player:GetDescendants() do
    if v.Name == "SyncAPI" then tool = v.Parent end
end
if not tool then
    for i,v in game.ReplicatedStorage:GetDescendants() do
        if v.Name == "SyncAPI" then tool = v.Parent end
    end
end

local remote = tool.SyncAPI.ServerEndpoint

function _(args) remote:InvokeServer(unpack(args)) end

function SetLocked(part,boolean)
    local args = {[1]="SetLocked",[2]={[1]=part},[3]=boolean}
    _(args)
end

function SpawnDecal(part,side)
    local args = {[1]="CreateTextures",[2]={[1]={["Part"]=part,["Face"]=side,["TextureType"]="Decal"}}}
    _(args)
end

function AddDecal(part,asset,side)
    local args = {[1]="SyncTexture",[2]={[1]={["Part"]=part,["Face"]=side,["TextureType"]="Decal",["Texture"]="rbxassetid://"..asset}}}
    _(args)
end

-- 核心功能：遍历所有物体并贴花
function spam(id)
    for i,v in game.workspace:GetDescendants() do
        if v:IsA("BasePart") then
            spawn(function()
                SetLocked(v,false)
                SpawnDecal(v,Enum.NormalId.Front); AddDecal(v,id,Enum.NormalId.Front)
                SpawnDecal(v,Enum.NormalId.Back);  AddDecal(v,id,Enum.NormalId.Back)
                SpawnDecal(v,Enum.NormalId.Right); AddDecal(v,id,Enum.NormalId.Right)
                SpawnDecal(v,Enum.NormalId.Left);  AddDecal(v,id,Enum.NormalId.Left)
                SpawnDecal(v,Enum.NormalId.Bottom);AddDecal(v,id,Enum.NormalId.Bottom)
                SpawnDecal(v,Enum.NormalId.Top);   AddDecal(v,id,Enum.NormalId.Top)
            end)
        end
    end
end

-- 立即执行，使用你的贴图ID
spam("77735500193276")